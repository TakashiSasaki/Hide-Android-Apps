<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hide Android Apps</title>
    <script type="text/javascript">
    function updateDisabledPackages(){
        var script_element = document.createElement("script");
        script_element.src = "/?disabled_packages=1&callback=callbackDisabledPackages";
        document.body.appendChild(script_element);
    }

    function callbackDisabledPackages(json_object){
        var div_element = document.getElementById("disabled_packages");
        while(div_element.firstChild) {
            div_element.removeChild(div_element.firstChild);
        }
        var table_element = document.createElement("table");
        for(var k in json_object) {
            var tr_element = document.createElement("tr");
            var td_element_k = document.createElement("td");
            td_element_k.textContent = k;
            tr_element.appendChild(td_element_k);
            var td_element_v = document.createElement("td");
            td_element_v.textContent = json_object[k];
            tr_element.appendChild(td_element_v);
            table_element.appendChild(tr_element);
        }
        div_element.appendChild(table_element);
    }

    function updateUninstalledPackages(){
        var div_element = document.getElementById("uninstalled_packages");
        while(div_element.firstChild) {
            div_element.removeChild(div_element.firstChild);
        }
        var script_element = document.createElement("script");
        script_element.src = "/?uninstalled_packages=1&callback=callbackUninstalledPackages";
        document.body.appendChild(script_element);
    }

    function callbackUninstalledPackages(json_object){
        var table_element = document.createElement("table");
        for (var k in json_object) {
            var td_element_k = document.createElement("td");
            td_element_k.textContent(k);
            var td_element_v = document.createElement("td");
            td_element_v.textContent(json_object[k]);
            var tr_element = document.createElement("tr");
            tr_element.appendChild(td_element_k);
            tr_element.appendChild(td_element_v);
            table_element.appendChild(tr_element);
        }
        var div_element = document.getElementById("uninstalled_packages");
        div_element.appendChild(table_element);
    }

    function updateProp(){
        var script_element = document.createElement("script");
        script_element.src = "/?prop=1&callback=callbackProp";
        document.body.appendChild(script_element);
    }

    function callbackProp(json_object){
        var table_element = document.createElement("table");
        for (var k in json_object) {
            var text_node_1 = document.createTextNode(k);
            var text_node_2 = document.createTextNode(json_object[k]);
            var td_element_1 = document.createElement("td");
            td_element_1.appendChild(text_node_1);
            var td_element_2 = document.createElement("td");
            td_element_2.appendChild(text_node_2);
            var tr_element = document.createElement("tr");
            tr_element.appendChild(td_element_1);
            tr_element.appendChild(td_element_2);
            table_element.appendChild(tr_element);
        }
        var div_element = document.getElementById("prop");
        while(div_element.firstChild) {
            div_element.removeChild(div_element.firstChild);
        }
        div_element.appendChild(table_element);
    }

    </script>
</head>
<body>
<h1>Disabled packages
    <button onclick="updateDisabledPackages()">update</button>
</h1>
<div id="disabled_packages">

</div>

<h1>Uninstalled (hidden) packages
    <button onclick="updateUninstalledPackages()">update</button>
</h1>
<div id="uninstalled_packages">

</div>
<h1>prop
    <button onclick="updateProp()">update</button>
</h1>
<div id="prop"></div>
</body>
</html>